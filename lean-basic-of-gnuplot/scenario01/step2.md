# ãƒ‡ãƒ¼ã‚¿ã®å¯è¦–åŒ– - ãƒãƒ©ã‚½ãƒ³ãƒ‡ãƒ¼ã‚¿ã®åˆ†æ

## ğŸŸ¢ ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ã®ç¢ºèªï¼ˆã‚·ã‚§ãƒ«ã‚³ãƒãƒ³ãƒ‰ï¼‰

ã¾ãšã€ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ã—ã¦ã€ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã™ã‚‹ã‹ç¢ºèªã—ã¾ã—ã‚‡ã†ï¼š

`cd /root/work`{{execute}}

`ls -la data/`{{execute}}

ã‚‚ã—ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆã¯ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆã—ã¾ã™ï¼š

`mkdir -p data`{{execute}}

`cat > data/marathon.dat << 'EOF'
# Minutes Runners
135  1
140  2
145  4
150  7
155  11
160  13
165  35
170  29
175  34
180  44
185  35
190  25
195  23
200  15
205  9
210  12
215  13
220  22
225  29
230  40
235  51
240  46
245  85
250  60
255  64
260  82
265  67
270  84
275  73
280  78
285  93
290  73
295  86
300  85
305  63
310  57
315  67
320  53
325  54
330  49
335  38
340  32
345  24
350  33
355  14
360  12
365  14
370  9
375  15
380  7
385  9
390  6
395  4
400  6
405  4
410  5
415  8
420  7
425  1
430  9
435  5
440  1
445  3
EOF`{{execute}}

ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ã‚’ç¢ºèªï¼š

`head -20 data/marathon.dat`{{execute}}

ã“ã®ãƒ‡ãƒ¼ã‚¿ã¯ï¼š
- ç¬¬1åˆ—ï¼šå®Œèµ°æ™‚é–“ï¼ˆåˆ†ï¼‰
- ç¬¬2åˆ—ï¼šãã®æ™‚é–“å¸¯ã«å®Œèµ°ã—ãŸãƒ©ãƒ³ãƒŠãƒ¼æ•°

ã‚’è¡¨ã—ã¦ã„ã¾ã™ã€‚

---

## ğŸ”µ ãƒ‡ãƒ¼ã‚¿ã®ãƒ—ãƒ­ãƒƒãƒˆï¼ˆgnuplotã‚³ãƒãƒ³ãƒ‰ï¼‰

gnuplotã‚’èµ·å‹•ã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ—ãƒ­ãƒƒãƒˆã—ã¾ã™ï¼š

`gnuplot`{{execute}}

ã¾ãšã€PNGå‡ºåŠ›ã‚’è¨­å®šã—ã¾ã™ï¼š

`set terminal png size 800,600`{{execute}}

`set output 'plots/marathon_full.png'`{{execute}}

`plot "data/marathon.dat" using 1:2 with boxes title "å®Œèµ°è€…æ•°"`{{execute}}

`unset output`{{execute}}

### ãƒ‡ãƒ¼ã‚¿ã®åˆ†æ

ã‚°ãƒ©ãƒ•ã‚’è¦‹ã‚‹ã¨ã€èˆˆå‘³æ·±ã„ç‰¹å¾´ãŒè¦‹ãˆã¦ãã¾ã™ï¼š

1. **äºŒå³°æ€§åˆ†å¸ƒï¼ˆãƒã‚¤ãƒ¢ãƒ¼ãƒ€ãƒ«ï¼‰** - 2ã¤ã®ãƒ”ãƒ¼ã‚¯ãŒã‚ã‚‹
2. **æ—©ã„ãƒ”ãƒ¼ã‚¯** - ç´„180åˆ†ï¼ˆ3æ™‚é–“ï¼‰ä»˜è¿‘
3. **é…ã„ãƒ”ãƒ¼ã‚¯** - ç´„300åˆ†ï¼ˆ5æ™‚é–“ï¼‰ä»˜è¿‘

ã“ã‚Œã¯ä½•ã‚’æ„å‘³ã™ã‚‹ã§ã—ã‚‡ã†ã‹ï¼Ÿ

### å¹³å‡å€¤ã®ç½ 

ã‚‚ã—å¹³å‡å€¤ï¼ˆ282åˆ†ï¼‰ã ã‘ã‚’è¦‹ã¦ã„ãŸã‚‰ã€210åˆ†é ƒã‹ã‚‰æº–å‚™ã™ã‚Œã°è‰¯ã„ã¨è€ƒãˆã‚‹ã§ã—ã‚‡ã†ã€‚
ã—ã‹ã—ã€å®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿ã¯ï¼š

- **ã‚¢ã‚¹ãƒªãƒ¼ãƒˆå±¤** - æ—©ã„æ™‚é–“å¸¯ã«é›†ä¸­
- **ä¸€èˆ¬å‚åŠ è€…å±¤** - é…ã„æ™‚é–“å¸¯ã«é›†ä¸­

ã¨ã„ã†2ã¤ã®ã‚°ãƒ«ãƒ¼ãƒ—ã«åˆ†ã‹ã‚Œã¦ã„ã¾ã™ã€‚

### ã‚ˆã‚Šè©³ç´°ãªåˆ†æ

ç¯„å›²ã‚’é™å®šã—ã¦ã€æ—©ã„æ™‚é–“å¸¯ã‚’è©³ã—ãè¦‹ã¦ã¿ã¾ã—ã‚‡ã†ï¼š

`set output 'plots/marathon_zoom.png'`{{execute}}

`set xlabel "å®Œèµ°æ™‚é–“ [åˆ†]"`{{execute}}

`set ylabel "ãƒ©ãƒ³ãƒŠãƒ¼æ•° [äºº]"`{{execute}}

`set title "ãƒãƒ©ã‚½ãƒ³å®Œèµ°æ™‚é–“åˆ†å¸ƒï¼ˆ120-250åˆ†ï¼‰"`{{execute}}

`plot [120:250] "data/marathon.dat" using 1:2 with boxes lc rgb "blue" title "å®Œèµ°è€…æ•°"`{{execute}}

`unset output`{{execute}}

### ASCIIã§ã®ç°¡æ˜“ç¢ºèª

ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§åˆ†å¸ƒã®å½¢ã‚’ç¢ºèªã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ï¼š

`set terminal dumb`{{execute}}

`plot [120:450] "data/marathon.dat" using 1:2 with boxes`{{execute}}

äºŒå³°æ€§ã®åˆ†å¸ƒãŒASCIIã§ã‚‚ç¢ºèªã§ãã¾ã™ã­ï¼

å…ƒã®è¨­å®šã«æˆ»ã—ã¾ã™ï¼š

`set terminal png size 800,600`{{execute}}

gnuplotã‚’çµ‚äº†ã—ã¾ã™ï¼š

`quit`{{execute}}

---

## ğŸŸ¢ ã‚°ãƒ©ãƒ•ã®ç¢ºèªï¼ˆã‚·ã‚§ãƒ«ã‚³ãƒãƒ³ãƒ‰ï¼‰

ä½œæˆã—ãŸã‚°ãƒ©ãƒ•ã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†ï¼š

`ls plots/*.png`{{execute}}

Webãƒ–ãƒ©ã‚¦ã‚¶ã§è¡¨ç¤ºã§ãã¾ã™ï¼š

- [ãƒãƒ©ã‚½ãƒ³ãƒ‡ãƒ¼ã‚¿ã®å…¨ä½“åƒã‚’è¡¨ç¤º]({{TRAFFIC_HOST1_8080}}/plots/marathon_full.png)
- [æ—©ã„æ™‚é–“å¸¯ã®è©³ç´°ã‚’è¡¨ç¤º]({{TRAFFIC_HOST1_8080}}/plots/marathon_zoom.png)

---

## ğŸ“Š ç™ºè¦‹ã®ã¾ã¨ã‚

ã“ã®ã‚ˆã†ã«ã€**ãƒ‡ãƒ¼ã‚¿ã‚’å¯è¦–åŒ–ã™ã‚‹ã“ã¨ã§ã€æ•°å€¤ã ã‘ã§ã¯è¦‹ãˆãªã„é‡è¦ãªæƒ…å ±**ã‚’ç™ºè¦‹ã§ãã¾ã™ï¼š

- å¹³å‡å€¤ã ã‘ã§ã¯å®Ÿæ…‹ã‚’æŠŠæ¡ã§ããªã„
- äºŒå³°æ€§åˆ†å¸ƒã¯ç•°ãªã‚‹2ã¤ã®é›†å›£ã®å­˜åœ¨ã‚’ç¤ºå”†
- é©åˆ‡ãªæº–å‚™ã«ã¯åˆ†å¸ƒå…¨ä½“ã®ç†è§£ãŒå¿…è¦

æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã§ã¯ã€åˆ¥ã®ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚’ä½¿ã£ã¦äºˆæ¸¬åˆ†æã‚’è¡Œã„ã¾ã™ã€‚